<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get EurOBIS data by using the EMODnet-Biology webservices — eurobis_occurrences • eurobis</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get EurOBIS data by using the EMODnet-Biology webservices — eurobis_occurrences"><meta name="description" content="Get EurOBIS data by using the EMODnet-Biology webservices"><meta property="og:description" content="Get EurOBIS data by using the EMODnet-Biology webservices"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">eurobis</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lifewatch/eurobis/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get EurOBIS data by using the EMODnet-Biology webservices</h1>
      <small class="dont-index">Source: <a href="https://github.com/lifewatch/eurobis/blob/master/R/eurobis_occurrences.R" class="external-link"><code>R/eurobis_occurrences.R</code></a></small>
      <div class="d-none name"><code>eurobis_occurrences.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Get EurOBIS data by using the EMODnet-Biology webservices</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">eurobis_occurrences</span><span class="op">(</span></span>
<span>  <span class="va">type</span>,</span>
<span>  url <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mrgid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geometry <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dasid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  start_date <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  end_date <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  aphiaid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scientific_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  functional_groups <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cites <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  habitats_directive <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  iucn_red_list <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  msdf_indicators <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  paging <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  paging_length <span class="op">=</span> <span class="fl">50000</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">eurobis_occurrences_basic</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">eurobis_occurrences_full</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">eurobis_occurrences_full_and_parameters</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">eurobis_occurrences_count</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Type of data, one of c('basic', 'full', 'full_and_parameters'). You
can use one of the wrappers:</p>
<p>- <code>eurobis_occurrences_basic</code>
- <code>eurobis_occurrences_full</code>
- <code>eurobis_occurrences_full_and_parameters</code></p>
<p>More info at: <a href="https://www.emodnet-biology.eu/emodnet-data-format" class="external-link">https://www.emodnet-biology.eu/emodnet-data-format</a></p>
<p>You can also see the number of occurrences that a query will return before performing the request with:</p>
<p>- <code>eurobis_occurrences_count</code></p>
<p>See details for more information.</p></dd>


<dt id="arg-url">url<a class="anchor" aria-label="anchor" href="#arg-url"></a></dt>
<dd><p>A WFS request copied from the LifeWatch/EMODnet-Biology Download Toolbox. Use <code><a href="eurobis_download_toolbox.html">eurobis_download_toolbox</a></code></p></dd>


<dt id="arg-mrgid">mrgid<a class="anchor" aria-label="anchor" href="#arg-mrgid"></a></dt>
<dd><p>Marine Regions Gazetteer unique identifier. See list of available regions with <code><a href="eurobis_list_regions.html">eurobis_list_regions</a></code> and
visualize with <code><a href="eurobis_map_regions.html">eurobis_map_regions</a></code></p></dd>


<dt id="arg-geometry">geometry<a class="anchor" aria-label="anchor" href="#arg-geometry"></a></dt>
<dd><p>a WKT geometry string or sf object with the region of interest. You can draw a polygon interactively
with <code><a href="eurobis_map_draw.html">eurobis_map_draw</a></code></p></dd>


<dt id="arg-dasid">dasid<a class="anchor" aria-label="anchor" href="#arg-dasid"></a></dt>
<dd><p>IMIS dataset unique identifier. See list of available datasets with <code><a href="eurobis_list_datasets.html">eurobis_list_datasets</a></code></p></dd>


<dt id="arg-start-date">start_date<a class="anchor" aria-label="anchor" href="#arg-start-date"></a></dt>
<dd><p>Start date of occurrences. Format YYYY-MM-DD.</p></dd>


<dt id="arg-end-date">end_date<a class="anchor" aria-label="anchor" href="#arg-end-date"></a></dt>
<dd><p>End date of occurrences. Format YYYY-MM-DD.</p></dd>


<dt id="arg-aphiaid">aphiaid<a class="anchor" aria-label="anchor" href="#arg-aphiaid"></a></dt>
<dd><p>WoRMS taxon unique identifier. See <a href="https://www.marinespecies.org/" class="external-link">https://www.marinespecies.org/</a> and <a href="https://docs.ropensci.org/worrms/" class="external-link">https://docs.ropensci.org/worrms/</a></p></dd>


<dt id="arg-scientific-name">scientific_name<a class="anchor" aria-label="anchor" href="#arg-scientific-name"></a></dt>
<dd><p>Taxon name. It is matched with WoRMS on the fly. Ignored if aphiaid is provided.</p></dd>


<dt id="arg-functional-groups">functional_groups<a class="anchor" aria-label="anchor" href="#arg-functional-groups"></a></dt>
<dd><p>Functional groups available in WoRMS: See <code><a href="species_traits.html">eurobis::species_traits</a></code>.</p></dd>


<dt id="arg-cites">cites<a class="anchor" aria-label="anchor" href="#arg-cites"></a></dt>
<dd><p>CITES Annex. See <code><a href="species_traits.html">eurobis::species_traits</a></code>.</p></dd>


<dt id="arg-habitats-directive">habitats_directive<a class="anchor" aria-label="anchor" href="#arg-habitats-directive"></a></dt>
<dd><p>Habitats Directive Annex. See <code><a href="species_traits.html">eurobis::species_traits</a></code>.</p></dd>


<dt id="arg-iucn-red-list">iucn_red_list<a class="anchor" aria-label="anchor" href="#arg-iucn-red-list"></a></dt>
<dd><p>IUCN Red List Category. See <code><a href="species_traits.html">eurobis::species_traits</a></code>.</p></dd>


<dt id="arg-msdf-indicators">msdf_indicators<a class="anchor" aria-label="anchor" href="#arg-msdf-indicators"></a></dt>
<dd><p>Marine Strategy Directive Framework indicators. See <code><a href="species_traits.html">eurobis::species_traits</a></code>.</p></dd>


<dt id="arg-paging">paging<a class="anchor" aria-label="anchor" href="#arg-paging"></a></dt>
<dd><p>If TRUE, the data will be requested on chunks. Use for large requests. See details.</p></dd>


<dt id="arg-paging-length">paging_length<a class="anchor" aria-label="anchor" href="#arg-paging-length"></a></dt>
<dd><p>Size of chunks in number of rows. Default 50K. See details.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>set to FALSE to hide the info messages</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Any parameters to pass to  <code>ows4R</code> get feature request (e.g. cql_filter or parallel)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a tibble or sf object with eurobis data</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If you want to perform a very large request, it is likely that this will take a long time to complete or even not
work at all. In this case, the best approach is to first check the number of occurrences that will be returned by
the query with <code>eurobis_occurrences_count</code>.</p>
<p>If this number is high (e.g. more than 500K), you can set <code>paging = TRUE</code> to download the data in smaller chunks.
This will still take time, but it is less likely to break the service by using several small request than one large one.</p>
<p>You can set the size of the data chunk with  <code>paging_length</code>. The largest the chunk, the faster you download the
data, but also more likely to break the service.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Get dataset with ID 8045</span></span></span>
<span class="r-in"><span><span class="co"># See also ?eurobis_list_datasets</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">eurobis_occurrences_basic</span><span class="op">(</span>dasid <span class="op">=</span> <span class="fl">8045</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get full dataset with ID 8045</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">eurobis_occurrences_full</span><span class="op">(</span>dasid <span class="op">=</span> <span class="fl">8045</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get full dataset with ID 8045 including extra measurements or facts </span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">eurobis_occurrences_full_and_paremeters</span><span class="op">(</span>dasid <span class="op">=</span> <span class="fl">8045</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get occurrences from Zostera marina in the ecoregion Alboran Sea (MRGID 21897)</span></span></span>
<span class="r-in"><span><span class="co"># See also ?eurobis_list_regions</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">eurobis_occurrences_full</span><span class="op">(</span>mrgid <span class="op">=</span> <span class="fl">21897</span>, scientific_name <span class="op">=</span> <span class="st">"Zostera marina"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get zooplankton occurrences from the region of your choice</span></span></span>
<span class="r-in"><span><span class="co"># See ?eurobis_map_mr and ?eurobis::species_traits</span></span></span>
<span class="r-in"><span><span class="va">my_area</span> <span class="op">&lt;-</span> <span class="fu"><a href="eurobis_map_draw.html">eurobis_map_draw</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">eurobis_occurrences_basic</span><span class="op">(</span>geometry <span class="op">=</span> <span class="va">my_area</span>, functional_groups <span class="op">=</span> <span class="st">"zooplankton"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get occurrences from the Continuous Plankton Recorder (dataset id 216) in January 2016</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">eurobis_occurrences_basic</span><span class="op">(</span>dasid <span class="op">=</span> <span class="fl">216</span>, start_date <span class="op">=</span> <span class="st">"2016-01-01"</span>, end_date <span class="op">=</span> <span class="st">"2016-01-31"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Salvador Fernandez, Daphnis De Pooter, <a href="https://lifewatch.be" class="external-link"><img src="https://www.lifewatch.be/sites/lifewatch.be/themes/lifewatchportal/images/header_lw_logo.png" width="72"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

